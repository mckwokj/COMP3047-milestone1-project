<!--edit.ejs-->

<form action="/rental/edit/<%= apartment.id %>" method="POST">
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label>Property title:</label>
                <input type="text" class="form-control" name="Rental[title]" value="<%= apartment.title %>" required>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>Image URL:</label>
                <input type="url" class="form-control" name="Rental[url]" value="<%= apartment.url %>" required>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label>Estate:</label>
                <select class="form-control" name="Rental[estate]" required>

                    <%if(apartment.estate == "Festival City"){%>
                    <option value="Festival City" <%="selected"%>>Festival City</option>
                    <option value="Tin Ma Court">Tin Ma Court</option>
                    <option value="City One Shatin">City One Shatin</option>

                    <%}if(apartment.estate == "Tin Ma Court"){%>
                    <option value="Festival City">Festival City</option>
                    <option value="Tin Ma Court" <%="selected"%>>Tin Ma Court</option>
                    <option value="City One Shatin">City One Shatin</option>

                    <%}if(apartment.estate == "City One Shatin"){%>
                    <option value="Festival City">Festival City</option>
                    <option value="Tin Ma Court">Tin Ma Court</option>
                    <option value="City One Shatin" <%="selected"%>>City One Shatin</option>
                    <%}%>
                </select>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>Bedrooms:</label>
                <input type="number" class="form-control" name="Rental[bedrooms]" value="<%= apartment.bedrooms %>"
                    required>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label>Gross Area:</label>
                <input type="number" class="form-control" name="Rental[area]" value="<%= apartment.area %>" required>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label>Expected Tenants</label>
                <input type="number" class="form-control" name="Rental[tenants]" value="<%= apartment.tenants %>"
                    required>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label>Rent:</label>
                <input type="number" class="form-control" name="Rental[rent]" value="<%= apartment.rent %>" required>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <%var result = (apartment.highlight == "highlighted") ? "checked" : ""%>
                <input type="checkbox" id="highlightCheck" name="Rental[highlight]" value="highlighted" <%= result%>>
                <label class="form-check-label" for="highlightCheck">Highlighted Property</label>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </div>
</form>

<form action="/rental/delete/<%= apartment.id %>" method="POST">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delete">
        Delete
    </button>

    <!-- Modal -->
    <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Caution</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Do you still want to delete?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                    <button type="submit" class="btn btn-danger">Delete</button>
                </div>
            </div>
        </div>
    </div>
</form>